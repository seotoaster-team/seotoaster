$(function(){$("#urlType-label, #to-url-label").hide();reloadRedirectsList();var b=$("#to-url");$("#urlType").click(function(){$(this).prop("checked")?($("#to_url_chosen").show(),$("#to-url").replaceWith(b)):($("#to_url_chosen").hide(),$("#to-url").replaceWith('<input type="text" id="to-url" name="toUrl" value="http://" />'))});$(".redirect-massdel").on("click",function(){$(".redirect-massdel").not(":checked").length?$("#massdell-main").attr("checked",!1):$("#massdell-main").attr("checked",!0)});
$("#massdell-main").click(function(){$(".redirect-massdel").prop("checked",$(this).prop("checked")?!0:!1)});$("#massdel-run").click(function(){var a=[];$(".redirect-massdel:checked").each(function(){a.push($(this).attr("id"))});if(!a.length)return showMessage("Select at least one item, please",!0),!1;showConfirm("You are about to remove one or many redirects. Are you sure?",function(){var c=$("#frm-redirects").data("callback");$.ajax({url:$("#website_url").val()+"backend/backend_seo/removeredirect/id/"+
a.join(","),type:"DELETE",dataType:"json",beforeSend:function(){showSpinner()},success:function(a){hideSpinner();showMessage(a.responseText,a.error);"undefined"!=typeof c&&eval(c+"()")}})})})});
$(document).ready(function(){$("#to-url").chosen({search_contains:!0});$("#frm-redirects-search").submit(function(a){a.preventDefault();a=$("#redirect-search").val();showSpinner();$.ajax({url:$("#website_url").val()+"backend/backend_seo/loadredirectslist/searchName/"+a,type:"post",dataType:"json",success:function(a){hideSpinner();a.redirects.length?$(".seo-paginator").show():$(".seo-paginator").hide();$("#redirects-box").find("#redirects-list").html(a.redirectsList)}})});$(document).on("click",".clear-btn",
function(){$("#redirect-search").val("");$("#frm-redirects-search").trigger("submit")});$("#redirects-box").append($(".paginator"));var b=$(".paginator").length,a=$(".not-mutch-paginator").length;(1<b||1==a)&&$(".paginator:last").remove()});
function reloadRedirectsList(){$("input[name='redirect-search']").text("");var b=$("#redirect-search").val();showSpinner();$.getJSON($("#website_url").val()+"backend/backend_seo/loadredirectslist/searchName/"+b,function(a){hideSpinner();$("#redirects-list").html(a.redirectsList);checkboxRadioStyle()})};
