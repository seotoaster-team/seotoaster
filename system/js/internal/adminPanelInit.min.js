$(function(){$(document).on("click","#widgets-shortcodes",function(a){window.open($(a.target).data("externalUrl")+"cheat-sheet.html","_blank")});null==$.cookie("hideAdminPanel")&&$.cookie("hideAdminPanel",0);$.cookie("hideAdminPanel")&&1==$.cookie("hideAdminPanel")&&($("#cpanelul, .menu-links, #seotoaster-logowrap").hide(),$("#showhide > a").text("Expand menu"));$("#cpanelul").accordion({heightStyle:"content",icons:null});$.cookie("currSectionOpen")&&$("#cpanelul").accordion({active:parseInt($.cookie("currSectionOpen")),
icons:null});$(document).on("click","#cpanelul li",function(){$.cookie("currSectionOpen",$(this).index())});$("#showhide > a").click(function(){$.cookie("hideAdminPanel",1==$.cookie("hideAdminPanel")?0:1);$(this).text(1==$.cookie("hideAdminPanel")?"Expand menu":"Collapse menu");$("#cpanelul, #seotoaster-logowrap").slideToggle();$(".menu-links").toggle()});$("#edit404").click(function(){$.get($("#website_url").val()+"backend/backend_page/edit404page",function(a){a.notFoundUrl?window.location.href=
a.notFoundUrl:smoke.alert($("#edit404-errorMsg").html(),{classname:"errors"})})});$("#cleancache").on("click",function(){showMessage("Clearing cache...",!1);$.get($("#website_url").val()+"backend/backend_content/cleancache/",function(a){0==a.error?showMessage(a.responseText,!1,2500):showMessage(a.responseText,!0)})});$("#del-this-page").click(function(){var a=$("#del-page-id").val(),b=$("#website_url").val();0==$(this).data("cid")?$.getJSON(b+"backend/backend_page/checkforsubpages/pid/"+a,function(a){if(a.responseText.subpages)return smoke.alert(a.responseText.message,
function(a){},{classname:"warning"}),!1;showDelConfirm()}):showDelConfirm()})});
function showDelConfirm(){var a=$("#del-page-id").val(),b=$("#website_url").val();smoke.confirm("Are you sure you want to delete this page?",function(c){c&&$.ajax({url:b+"backend/backend_page/delete/",type:"post",dataType:"json",data:{id:a},beforeSend:function(){smoke.signal("Removing page...",3E4)},success:function(a){hideSpinner();a.error?smoke.alert(a.responseText.body,{classname:"error"}):top.location.href=b}})},{classname:"error",ok:"Yes",cancel:"No"})};
