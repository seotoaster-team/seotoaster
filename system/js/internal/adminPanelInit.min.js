function showDelConfirm(){var e=$("#del-page-id").val(),t=$("#website_url").val();smoke.confirm("Are you sure you want to delete this page?",function(n){n&&$.ajax({url:t+"backend/backend_page/delete/id/"+e,type:"DELETE",dataType:"json",beforeSend:function(){smoke.signal("Removing page...",3e4)},success:function(e){hideSpinner(),e.error?smoke.alert(e.responseText.body,{classname:"error"}):top.location.href=t}})},{classname:"error",ok:"Yes",cancel:"No"})}!function(){"use strict";document.getElementsByClassName||(document.getElementsByClassName=function(e){return this.querySelectorAll("."+e)},Element.prototype.getElementsByClassName=document.getElementsByClassName);var e="active",t=document.getElementById("website_url").value,n=document.getElementsByClassName("seotoaster-panel")[0],s=document.getElementsByClassName("section-list")[0];document.getElementsByClassName("show-hide")[0];function a(t){null!=t&&(t.classList.remove(e),localStorage.removeItem("panel-section-active"))}function o(){for(var e=document.getElementsByClassName("section-list")[0].childNodes,t=[],n=0;n<e.length;n++)1==e[n].nodeType&&t.push(e[n]);return t}null!=localStorage.getItem("panel-section-active")&&o()[localStorage.getItem("panel-section-active")].classList.add("active");document.querySelector("._i-exit").addEventListener("click",()=>{localStorage.removeItem("panel-section-active")}),window.addEventListener("load",function(){var e;(e=new XMLHttpRequest).open("GET",t+"/backend/backend_update/version/",!0),e.onreadystatechange=function(){4==e.readyState&&200==e.status&&1==JSON.parse(e.responseText).status&&(document.getElementsByClassName("_i-notification")[0].classList.add("new-notices"),document.getElementsByClassName("_new-version")[0].classList.add("show"))},e.send(null)}),s.addEventListener("click",function(t){t.target.classList.contains("section-btn")&&t.preventDefault();var n=t.target.parentNode,c=s.querySelector(".section.active");if(-1==t.target.className.indexOf("section-btn")||-1!=t.target.className.indexOf("no-open-section"))return!1;n.classList.contains(e)?a(n):(a(c),localStorage.setItem("panel-section-active",function(e){for(var t=o(),n=0;n<t.length;n++)if(t[n]==e)return n}(n)),n.classList.add(e))}),document.addEventListener("click",function(e){for(var t=function(e){for(var t=[];e;)t.push(e),e=e.parentNode;return t}(e.target),n=0;n<t.length-2;n++)if(t[n].classList.contains("seotoaster-panel"))return!1;a(s.querySelector(".section.active"))}),document.getElementsByClassName("show-hide")[0].addEventListener("click",function(e){e.target.classList.toggle("_i-panel-hide"),e.target.classList.toggle("_i-panel-show"),n.classList.toggle("p-show"),n.classList.toggle("p-hide")});var c=document.getElementById("del-this-page");c&&c.addEventListener("click",function(e){var n=document.getElementById("del-page-id").value;if(0==e.target.getAttribute("data-cid")){var s=new XMLHttpRequest;if(s.open("GET",t+"backend/backend_page/checkforsubpages/pid/"+n,!1),s.send(null),200==s.status){if(s.responseText.subpages)return smoke.alert(s.responseText.message,function(e){},{classname:"warning"}),!1;showDelConfirm()}}else showDelConfirm()}),document.getElementById("edit404").addEventListener("click",function(){var e=new XMLHttpRequest;if(e.open("GET",t+"/backend/backend_page/edit404page",!1),e.send(null),200==e.status){var n=JSON.parse(e.responseText);n.notFoundUrl?window.location.href=n.notFoundUrl:smoke.alert(document.getElementsByClassName("edit404-msg")[0].innerHTML,{classname:"errors"})}}),document.getElementById("cleancache").addEventListener("click",function(e){e.target.classList.add("run");var n=new XMLHttpRequest;n.open("GET",t+"/backend/backend_content/cleancache/",!1),n.send(null);var s=JSON.parse(n.responseText);200==n.status?setTimeout(function(){e.target.classList.remove("run"),showMessage(s.responseText,!1,2500)},2e3):setTimeout(function(){e.target.classList.remove("run"),showMessage(s.responseText,!0)},2e3)})}(),$(document).on("click","#widgets-shortcodes",function(e){window.open($(e.target).data("externalUrl")+"cheat-sheet.html","_blank")});